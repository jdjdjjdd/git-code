{"name": "组合查询", "status": "broken", "statusDetails": {"message": "TypeError: 'NoneType' object is not subscriptable", "trace": "self = <autotest.testcases.service_testing.PQ.test_workcard_infomange.Testworkcardinfo object at 0x000001BB79631F28>\n\n    @allure.feature('会员信息管理')\n    @allure.story('工牌信息查询')\n    @allure.title('组合查询')\n    @allure.severity('blocker')\n    def test_workcardinfo_0017(self):\n        \"\"\"\n                组合查询\n    \n        \"\"\"\n        print('\\n{}测试开始\\n'.format(self.test_workcardinfo_0017.__name__))\n        with allure.step(\"step1:前置条件：随机获取已存在工牌记录的身份证号码、姓名、手机号码、工牌、标准企业、审核状态、上传日期\"):\n            workaudit_sql=f\"select guid,uuid,work_card_no,ent_id,audit_sts,created_tm from member_user_work_card_audit where uuid>0 and is_canceled=0 and is_deleted=0 and audit_sts=2 and ec_id={ec_id}\"\n            workauditres=self.db.selectsql(workaudit_sql)\n            workcardinfo=random.choice(workauditres)\n            #获取身份证号码、姓名\n            uuid=workcardinfo[1]\n            sql=f\"select id_card_num,real_name from member_user_unique where uuid={uuid} and is_deleted=0\"\n            res=self.db.selectsql(sql)\n            input_idcardnum=res[0][0]\n            input_realname=res[0][1]\n            #获取手机号码\n            guid=workcardinfo[0]\n            sql=f\"select mobile from member_user where guid={guid} and ec_id={ec_id} and is_deleted=0\"\n            res=self.db.selectsql(sql)\n            input_mobile=res[0][0]\n            #获取工牌、标准企业、审核状态\n            input_workcardno=workcardinfo[2]\n            input_entid=workcardinfo[3]\n            input_auditsts=workcardinfo[4]\n            # 获取上传时间\n            uploadtime = workcardinfo[5].__format__('%Y-%m-%d')\n            # 构造UploadTimeBegin和UploadTimend\n            input_UploadTimeBegin = uploadtime + ' 00:00:00.000000'\n            input_UploadTimend = uploadtime + ' 23:59:59.000000'\n    \n        with allure.step(\"step2:填写身份证号码、姓名、手机号码、工牌、标准企业、审核状态、上传日期,查询工牌\"):\n            #登录\n>           self.weblogin.login(pq_boss_user)\n\ntestcases\\service_testing\\PQ\\test_workcard_infomange.py:2062: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <common.login.web_login.Web_Login object at 0x000001BB7965ABA8>\nphone = '13856565656'\n\n    def login(self, phone=None):\n        # 登录获取返回结果\n        result = labor_weblogin(phone,cf.web_appkey)\n>       self.Guid = result['Guid']\nE       TypeError: 'NoneType' object is not subscriptable\n\ncommon\\login\\web_login.py:16: TypeError"}, "description": "\n                组合查询\n\n        ", "steps": [{"name": "step1:前置条件：随机获取已存在工牌记录的身份证号码、姓名、手机号码、工牌、标准企业、审核状态、上传日期", "status": "passed", "start": 1594632562532, "stop": 1594632562636}, {"name": "step2:填写身份证号码、姓名、手机号码、工牌、标准企业、审核状态、上传日期,查询工牌", "status": "broken", "statusDetails": {"message": "TypeError: 'NoneType' object is not subscriptable\n", "trace": "  File \"E:\\study\\python\\autotest\\testcases\\service_testing\\PQ\\test_workcard_infomange.py\", line 2062, in test_workcardinfo_0017\n    self.weblogin.login(pq_boss_user)\n  File \"E:\\study\\python\\autotest\\common\\login\\web_login.py\", line 16, in login\n    self.Guid = result['Guid']\n"}, "start": 1594632562636, "stop": 1594632562768}], "attachments": [{"name": "log", "source": "9b4c797e-e926-4ab3-9582-b75eacbac76a-attachment.txt", "type": "text/plain"}], "start": 1594632562532, "stop": 1594632562768, "uuid": "39b488eb-e192-4d1a-9f92-bb42eb4145bf", "historyId": "ec7c935e01b1b4b3c30b5d3f14a1e063", "testCaseId": "baa707df52f0c229f11a30597e2533c4", "fullName": "testcases.service_testing.PQ.test_workcard_infomange.Testworkcardinfo#test_workcardinfo_0017", "labels": [{"name": "feature", "value": "会员信息管理"}, {"name": "severity", "value": "blocker"}, {"name": "story", "value": "工牌信息查询"}, {"name": "parentSuite", "value": "testcases.service_testing.PQ"}, {"name": "suite", "value": "test_workcard_infomange"}, {"name": "subSuite", "value": "Testworkcardinfo"}, {"name": "host", "value": "DESKTOP-9JNMRHP"}, {"name": "thread", "value": "26496-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.service_testing.PQ.test_workcard_infomange"}]}